#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Running pre-commit checks..."

# Lint staged files (already configured in package.json lint-staged)
echo "ğŸ“ Running lint-staged..."
npx lint-staged

# Type checking for web
echo "ğŸ” Type checking web..."
cd career-web && npx tsc --noEmit
if [ $? -ne 0 ]; then
  echo "âŒ Web type check failed!"
  exit 1
fi
cd ..

# Type checking for native  
echo "ğŸ” Type checking native..."
cd career-native && npx tsc --noEmit
if [ $? -ne 0 ]; then
  echo "âŒ Native type check failed!"
  exit 1
fi
cd ..

echo "âœ… All pre-commit checks passed!"
